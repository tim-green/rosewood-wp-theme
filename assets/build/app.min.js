var WP=WP||{},$=jQuery,doc=$(document),win=$(window),winHeight=win.height(),windWidth=win.width(),viewport={};viewport.top=$(window).scrollTop(),viewport.bottom=viewport.top+$(window).height(),WP.mobileMenu={init:function(){$(".nav-toggle").on("click",function(){$(this).toggleClass("active"),$(".mobile-menu-wrapper").slideToggle().toggleClass("visible"),$("body").toggleClass("mobile-menu-visible lock-scroll"),$(".mobile-search, .toggle-mobile-search").removeClass("active")}),$(window).on("resize",function(){1e3<$(window).width()&&($("body").removeClass("mobile-menu-visible lock-scroll"),$(".mobile-menu-wrapper").hide().removeClass("visible"),$(".nav-toggle").removeClass("active"),$(".mobile-search").removeClass("active hide"),WP.ajaxSearch.emptyResults())})}},WP.searchToggle={init:function(){$('a[href$="?s="]').on("click",function(){return $(this).toggleClass("active"),$(".search-overlay").toggleClass("active"),$(this).hasClass("active")?$(".search-overlay .search-field").focus():$(".search-overlay .search-field").blur(),!1}),$(".search-overlay").click(function(e){console.log("log"),e.target==this&&($(".search-overlay .search-field").blur(),$(".search-overlay").removeClass("active"),$('.social-menu.desktop a[href$="?s="]').removeClass("active"))}),$(".toggle-mobile-search").on("click",function(){return $(".mobile-search").removeClass("hide"),$(".toggle-mobile-search, .mobile-search").toggleClass("active"),$(".mobile-search .search-field").focus(),!1}),$(".untoggle-mobile-search").on("click",function(){return $(".mobile-search").addClass("hide"),$(".mobile-search, .toggle-mobile-search").removeClass("active"),$(".mobile-search .search-field").blur(),WP.ajaxSearch.emptyResults(),!1})}},WP.intrinsicRatioEmbeds={init:function(){function e(e){$(e).each(function(){var e=$(this),t=e.parent().width();e.attr("data-origwidth")||(e.attr("data-origwidth",e.attr("width")),e.attr("data-origheight",e.attr("height")));var i=t/e.attr("data-origwidth");e.css("width",t+"px"),e.css("height",e.attr("data-origheight")*i+"px")})}var t=".post iframe, .post object, .post video, .widget-content iframe, .widget-content object, .widget-content iframe";e(t),$(window).resize(function(){e(t)})}},WP.smoothScroll={init:function(){$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not(".skip-link").click(function(e){var t;location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")||location.hostname!=this.hostname||(t=(t=$(this.hash)).length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3))})}},WP.ajaxSearch={init:function(){var i,e=(i=0,function(e,t){clearTimeout(i),i=setTimeout(e,t)});$(".mobile-search .search-field").keyup(function(){0!=$(this).val().length?e(function(){WP.ajaxSearch.loadPosts()},200):e(function(){WP.ajaxSearch.emptyResults()},50)}),e(function(){WP.ajaxSearch.emptyResults()},50),$(".mobile-search .search-field").blur(function(){0==$(this).val().length&&WP.ajaxSearch.emptyResults()})},loadPosts:function(){var t=$(".mobile-results .results-wrapper"),e=$(".mobile-search .search-field").val();search_string=JSON.stringify(e),$.ajax({url:mcluhan_ajaxpagination.ajaxurl,type:"post",data:{action:"ajax_pagination",query_data:search_string},beforeSend:function(){$(".mobile-results").addClass("loading")},success:function(e){t.empty().append($(e)),$(".mobile-results").addClass("searching"),0<=e.indexOf("no-results-message")?$(".mobile-results").addClass("no-results"):$(".mobile-results").removeClass("no-results")},complete:function(){},error:function(e,t,i){console.log("AJAX error: "+i)}})},emptyResults:function(){$(".mobile-results .results-wrapper").empty(),$(".mobile-results").removeClass("no-results searching"),$(".mobile-search .search-field").val("")}},$(document).ready(function(){WP.mobileMenu.init(),WP.searchToggle.init(),WP.intrinsicRatioEmbeds.init(),WP.smoothScroll.init(),WP.ajaxSearch.init()});
//# sourceMappingURL=app.min.js.map